@tailwind base;
@tailwind components;
@tailwind utilities;

/* Import social media fonts */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700;800&family=Bebas+Neue&display=swap');

@layer base {
  :root {
    --color-primary: 26 13 61; /* #1A0D3D */
    --color-accent: 139 92 246; /* #8B5CF6 */
    --color-glow: 192 132 252; /* #C084FC */
    --color-gem-dark: 10 1 24; /* #0A0118 */
    
    color-scheme: dark light;
  }
  
  * {
    box-sizing: border-box;
    -webkit-tap-highlight-color: transparent;
  }
  
  html {
    scroll-behavior: smooth;
    -webkit-text-size-adjust: 100%;
  }
  
  body {
    @apply bg-gem-dark font-sans text-white antialiased;
    @apply min-h-screen-safe overflow-x-hidden;
    background: linear-gradient(180deg, #0A0118 0%, #1A0D3D 100%);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  /* Mobile optimization */
  @media (max-width: 768px) {
    body {
      overscroll-behavior: none;
      -webkit-overflow-scrolling: touch;
    }
  }
  
  /* Hide scrollbars but keep functionality */
  .hide-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  
  .hide-scrollbar::-webkit-scrollbar {
    display: none;
  }
}

@layer components {
  /* Glass morphism effects */
  .glass {
    @apply bg-white/10 backdrop-blur-lg border border-white/20;
  }
  
  .glass-dark {
    @apply bg-black/30 backdrop-blur-lg border border-white/10;
  }
  
  .glass-heavy {
    @apply bg-black/50 backdrop-blur-xl border border-white/20;
  }
  
  /* Gem button styles */
  .btn-gem {
    @apply bg-gradient-to-r from-accent-600 to-glow-500 text-white font-semibold;
    @apply px-6 py-3 rounded-gem shadow-gem hover:shadow-gem-hover;
    @apply transition-all duration-300 transform hover:scale-105;
    @apply border border-accent-400/30;
    background-image: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.1) 50%, transparent 70%);
    background-size: 200% 200%;
    animation: shimmer 3s infinite;
  }
  
  .btn-gem:active {
    @apply scale-95;
  }
  
  .btn-gem-outline {
    @apply bg-transparent border-2 border-accent-500 text-accent-200;
    @apply px-6 py-3 rounded-gem hover:bg-accent-500/10;
    @apply transition-all duration-300;
  }
  
  .btn-gem-ghost {
    @apply bg-white/5 hover:bg-white/10 text-white;
    @apply px-4 py-2 rounded-xl backdrop-blur-sm;
    @apply transition-all duration-300;
  }
  
  /* Social action buttons */
  .btn-social {
    @apply w-12 h-12 rounded-full flex items-center justify-center;
    @apply bg-black/30 backdrop-blur-sm border border-white/20;
    @apply text-white hover:scale-110 transition-transform duration-200;
  }
  
  .btn-like {
    @apply btn-social;
  }
  
  .btn-like.liked {
    @apply bg-social-like text-white animate-like-pop;
  }
  
  /* Input styles */
  .input-gem {
    @apply w-full px-4 py-3 rounded-gem bg-black/20 border border-white/20;
    @apply text-white placeholder:text-white/50 backdrop-blur-sm;
    @apply focus:border-accent-400 focus:ring-2 focus:ring-accent-400/20;
    @apply transition-all duration-200;
  }
  
  /* Navigation styles */
  .nav-tab {
    @apply flex flex-col items-center justify-center py-2 px-3;
    @apply text-white/60 hover:text-white transition-colors duration-200;
  }
  
  .nav-tab.active {
    @apply text-accent-400;
  }
  
  .nav-tab-icon {
    @apply w-6 h-6 mb-1;
  }
  
  .nav-tab.active .nav-tab-icon {
    @apply text-accent-400 animate-bounce-gentle;
  }
  
  /* Typography */
  .heading-display {
    @apply font-display font-bold text-white uppercase tracking-wider;
  }
  
  .heading-1 {
    @apply text-4xl md:text-5xl lg:text-6xl font-heading font-bold text-white;
  }
  
  .heading-2 {
    @apply text-2xl md:text-3xl lg:text-4xl font-heading font-bold text-white;
  }
  
  .heading-3 {
    @apply text-xl md:text-2xl font-heading font-semibold text-white;
  }
  
  .text-gradient {
    @apply bg-gradient-to-r from-accent-400 to-glow-400 bg-clip-text text-transparent;
  }
  
  .text-glow {
    text-shadow: 0 0 10px rgba(139, 92, 246, 0.5);
  }
  
  /* Reel specific styles */
  .reel-container {
    @apply h-screen-safe w-full relative overflow-hidden;
    scroll-snap-type: y mandatory;
  }
  
  .reel-card {
    @apply h-screen-safe w-full relative flex-shrink-0;
    scroll-snap-align: start;
  }
  
  .reel-video {
    @apply absolute inset-0 w-full h-full object-cover;
  }
  
  .reel-overlay {
    @apply absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent;
  }
  
  .reel-content {
    @apply absolute bottom-0 left-0 right-0 p-4 z-10;
  }
  
  .reel-actions {
    @apply absolute right-4 bottom-20 flex flex-col items-center space-y-4 z-10;
  }
  
  /* Bottom sheet */
  .bottom-sheet {
    @apply fixed inset-x-0 bottom-0 z-modal bg-gem-dark rounded-t-3xl;
    @apply border-t border-white/20 max-h-[90vh] overflow-hidden;
    transform: translateY(100%);
    transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  }
  
  .bottom-sheet.open {
    transform: translateY(0);
  }
  
  .bottom-sheet-handle {
    @apply w-12 h-1 bg-white/30 rounded-full mx-auto my-3;
  }
  
  /* Product drawer */
  .product-drawer {
    @apply fixed inset-y-0 right-0 w-80 max-w-[90vw] z-modal;
    @apply bg-gem-dark border-l border-white/20;
    transform: translateX(100%);
    transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  }
  
  .product-drawer.open {
    transform: translateX(0);
  }
  
  /* Card styles */
  .card-gem {
    @apply bg-gradient-to-br from-black/20 to-black/40 rounded-gem;
    @apply border border-white/10 backdrop-blur-sm;
    @apply shadow-lg hover:shadow-glow transition-all duration-300;
  }
  
  .card-glow {
    @apply card-gem hover:shadow-glow-lg hover:border-accent-400/30;
  }
  
  /* Avatar styles */
  .avatar {
    @apply rounded-full border-2 border-accent-400/50 object-cover;
  }
  
  .avatar-glow {
    @apply avatar shadow-glow-sm;
  }
  
  /* Grid layout for profile */
  .profile-grid {
    @apply grid grid-cols-3 gap-1;
  }
  
  .profile-grid-item {
    @apply aspect-square bg-black/20 rounded-lg overflow-hidden;
    @apply hover:scale-105 transition-transform duration-200;
  }
  
  /* Loading shimmer effect */
  .shimmer {
    @apply relative overflow-hidden bg-white/5 rounded-lg;
  }
  
  .shimmer::after {
    @apply absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent;
    content: '';
    animation: shimmer 2s infinite;
  }
  
  /* Safe area handling for mobile */
  .safe-top {
    padding-top: env(safe-area-inset-top);
  }
  
  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
  
  .safe-left {
    padding-left: env(safe-area-inset-left);
  }
  
  .safe-right {
    padding-right: env(safe-area-inset-right);
  }
  
  /* Mobile-specific utilities */
  .mobile-only {
    @apply block md:hidden;
  }
  
  .desktop-only {
    @apply hidden md:block;
  }
  
  /* Scroll snap for reels */
  .snap-y {
    scroll-snap-type: y mandatory;
  }
  
  .snap-start {
    scroll-snap-align: start;
  }
  
  .snap-center {
    scroll-snap-align: center;
  }
}

@layer utilities {
  /* Text truncation */
  .text-truncate {
    @apply overflow-hidden whitespace-nowrap text-ellipsis;
  }
  
  .text-truncate-2 {
    @apply overflow-hidden;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
  }
  
  .text-truncate-3 {
    @apply overflow-hidden;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
  }
  
  /* Aspect ratios */
  .aspect-reel {
    aspect-ratio: 9 / 16;
  }
  
  .aspect-square {
    aspect-ratio: 1 / 1;
  }
  
  .aspect-video {
    aspect-ratio: 16 / 9;
  }
  
  /* Flexbox utilities */
  .flex-center {
    @apply flex items-center justify-center;
  }
  
  .flex-between {
    @apply flex items-center justify-between;
  }
  
  .flex-start {
    @apply flex items-start justify-start;
  }
  
  /* Grid utilities */
  .grid-center {
    @apply grid place-items-center;
  }
  
  /* Hide on mobile/desktop */
  @media (max-width: 767px) {
    .hide-mobile {
      display: none !important;
    }
  }
  
  @media (min-width: 768px) {
    .hide-desktop {
      display: none !important;
    }
  }
  
  /* Reduce motion for accessibility */
  @media (prefers-reduced-motion: reduce) {
    .animate-glow-pulse,
    .animate-float,
    .animate-shimmer,
    .animate-bounce-gentle,
    .animate-like-pop {
      animation: none;
    }
    
    * {
      transition-duration: 0.01ms !important;
      animation-duration: 0.01ms !important;
    }
  }
  
  /* High contrast mode support */
  @media (prefers-contrast: high) {
    .glass,
    .glass-dark,
    .glass-heavy {
      @apply bg-black border-white;
    }
    
    .btn-gem {
      @apply bg-accent-600 border-white;
    }
  }
}

/* Custom scrollbar for webkit browsers */
::-webkit-scrollbar {
  width: 4px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.1);
}

::-webkit-scrollbar-thumb {
  background: rgba(139, 92, 246, 0.5);
  border-radius: 2px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(139, 92, 246, 0.7);
}

/* Fix for iOS bounce effect */
@supports (-webkit-touch-callout: none) {
  body {
    -webkit-overflow-scrolling: touch;
  }
}
